
# Laravel Gaming Project

## Описание

Это проект на Laravel, где реализована регистрация пользователей и доступ к "Page A" через уникальные ссылки. Уникальные ссылки генерируются для каждого пользователя и активны в течение 7 дней. Пользователь может генерировать новые ссылки, деактивировать их, играть в мини-игру "I'm Feeling Lucky" и просматривать последние 3 результата игры.

## Установка

### Требования

- PHP >= 8.0
- Composer
- Laravel >= 8.x
- PostgreSQL или MySQL

### Шаги по установке

1. Склонируйте репозиторий:

   ```bash
   git clone <url>
   cd project
   ```

2. Установите зависимости через Composer:

   ```bash
   composer install
   ```

3. Настройте файл окружения `.env`:

   Скопируйте файл `.env.example` в `.env`:

   ```bash
   cp .env.example .env
   ```

   Откройте файл `.env` и отредактируйте настройки базы данных:

   ```env
   DB_CONNECTION=pgsql
   DB_HOST=127.0.0.1
   DB_PORT=5432
   DB_DATABASE=your_database
   DB_USERNAME=your_username
   DB_PASSWORD=your_password
   ```

4. Сгенерируйте ключ приложения:

   ```bash
   php artisan key:generate
   ```

5. Запустите миграции базы данных:

   ```bash
   php artisan migrate
   ```

6. Запустите локальный сервер:

   ```bash
   php artisan serve
   ```

Проект теперь доступен по адресу: [http://127.0.0.1:8000](http://127.0.0.1:8000).

## Основные возможности

### Регистрация

- Пользователи могут зарегистрироваться, указав `username` и `phonenumber`.
- После регистрации пользователю генерируется уникальная ссылка, которая будет активна 7 дней.

### Страница A (Page A)

- Доступ к странице A осуществляется через уникальную ссылку, которая генерируется для каждого пользователя.
- Возможности на странице:
    - Генерация новой уникальной ссылки.
    - Деактивация текущей ссылки.
    - Игра "I'm Feeling Lucky", где пользователь может выиграть, если случайное число четное. Сумма выигрыша зависит от случайного числа.
    - Просмотр истории последних 3 игр.

### Мини-игра "I'm Feeling Lucky"

- Пользователь может играть в игру на странице A.
- Генерируется случайное число от 1 до 1000:
    - Если число четное, пользователь выигрывает. В зависимости от значения числа сумма выигрыша изменяется.

## Тестирование

В проекте реализованы юнит-тесты для проверки основных функций:

1. **Регистрация пользователя и генерация уникальной ссылки:** Тесты проверяют, что пользователь может зарегистрироваться, и уникальная ссылка корректно генерируется и отображается.
2. **Генерация новой уникальной ссылки:** Проверяется, что при запросе новой ссылки, она заменяет старую и обновляется срок действия.
3. **Мини-игра "I'm Feeling Lucky":** Тесты проверяют правильную логику игры, включая генерацию случайного числа и расчет выигрыша.
4. **История игр пользователя:** Тесты проверяют корректное отображение истории последних 3 игр для пользователя.

### Запуск тестов

Чтобы запустить тесты, выполните следующую команду:

```bash
php artisan test
```

Это выполнит все тесты, написанные для данного проекта, и проверит, что все ключевые функции работают корректно.
